<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fourier Analysis - N·ªÅn T·∫£ng To√°n H·ªçc & ·ª®ng D·ª•ng</title>
  <script src="../mathjax-config.js"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script src="../math-simple.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-size: 2.5em;
            font-weight: 700;
        }
        
        .theory-header {
            background: rgba(255, 215, 0, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #FFD700;
        }
        
        .content-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .visualization-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .canvas-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            color: #333;
        }
        
        canvas {
            border: 2px solid #34495e;
            border-radius: 10px;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: block;
            margin: 10px auto;
        }
        
        .controls {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .control-group {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .control-group h3 {
            margin: 0 0 15px 0;
            color: #00FFFF;
            font-size: 1.2em;
            font-weight: 700;
        }
        
        button {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: linear-gradient(45deg, #2980b9, #1f5582);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        
        button.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }
        
        input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        
        .parameter-display {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
        }
        
        .formula-box {
            background: linear-gradient(145deg, rgba(15, 15, 40, 0.9), rgba(25, 25, 60, 0.7));
            padding: 25px 35px;
            border-radius: 15px;
            font-family: 'KaTeX_Main', 'Times New Roman', serif;
            font-size: 20px;
            line-height: 1.8;
            text-align: center;
            margin: 25px 0;
            border: 2px solid rgba(100, 200, 255, 0.4);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }
        
        .formula-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00d4ff, #7c4dff, #ff6b6b, #4ecdc4);
            opacity: 0.8;
        }
        
        .formula-box .main-formula {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        
        .formula-box .sub-formula {
            font-size: 16px;
            color: #b8e6ff;
            font-style: italic;
            margin-top: 8px;
        }
        
        .formula-box .formula-label {
            font-size: 14px;
            color: #ffeb3b;
            font-weight: 600;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .inline-formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Times New Roman', serif;
            font-size: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: inline-block;
            margin: 0 2px;
            color: #e8f4fd;
        }
        
        .formula-group {
            background: rgba(46, 204, 113, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid #2ecc71;
        }
        
        .formula-group .formula-title {
            color: #2ecc71;
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .mathematical-theory {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .theory-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .theory-card:hover {
            border-color: #3498db;
            transform: translateY(-5px);
        }
        
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .application-card {
            background: rgba(46, 204, 113, 0.1);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #2ecc71;
        }
        
        .legend {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            margin-top: 15px;
        }
        
        .legend-item {
            margin: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .coefficient-display {
            background: rgba(52, 152, 219, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
        
        .function-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåä Fourier Analysis - N·ªÅn T·∫£ng To√°n H·ªçc & ·ª®ng D·ª•ng</h1>
        
        <!-- Mathematical Theory Header -->
        <div class="theory-header">
            <h2 style="color: #FFD700; margin: 0 0 20px 0;">üìê N·ªÅn T·∫£ng To√°n H·ªçc</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 25px;">
                <div>
                    <h3 style="color: #00FFFF;">üéµ Fourier Series</h3>
                    <p><strong>√ù t∆∞·ªüng c·ªët l√µi:</strong> M·ªçi h√†m tu·∫ßn ho√†n c√≥ th·ªÉ bi·ªÉu di·ªÖn nh∆∞ t·ªïng v√¥ h·∫°n c√°c sin v√† cos!</p>
                    
                    <div class="formula-box">
                        <div class="formula-label">Chu·ªói Fourier</div>
                        <div class="formula-container">
                            <div class="formula-title">Fourier Series Expansion</div>
                            <div class="math-environment">
                                $$f(t) = \frac{a_0}{2} + \sum_{n=1}^{\infty}\left[a_n\cos(n\omega t) + b_n\sin(n\omega t)\right]$$
                            </div>
                            <div class="formula-description">Bi·ªÉu di·ªÖn h√†m tu·∫ßn ho√†n qua sin v√† cos</div>
                        </div>
                    </div>
                    
                    <div class="formula-group">
                        <div class="formula-title">H·ªá s·ªë Fourier:</div>
                        <div class="definition-box">
                            <h4>Fourier Coefficients</h4>
                            <div class="math-environment">
                                $$a_0 = \frac{2}{T}\int_0^T f(t) \, dt$$
                            </div>
                            <div class="math-environment">
                                $$a_n = \frac{2}{T}\int_0^T f(t)\cos(n\omega t) \, dt$$
                            </div>
                            <div class="math-environment">
                                $$b_n = \frac{2}{T}\int_0^T f(t)\sin(n\omega t) \, dt$$
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 style="color: #2ecc71;">‚ö° Fourier Transform</h3>
                    <p><strong>M·ªü r·ªông:</strong> T·ª´ h√†m tu·∫ßn ho√†n ƒë·∫øn t√≠n hi·ªáu b·∫•t k·ª≥ - chuy·ªÉn t·ª´ time domain sang frequency domain!</p>
                    
                    <div class="formula-box">
                        <div class="formula-label">Bi·∫øn ƒë·ªïi Fourier</div>
                        <div class="theorem-box">
                            <div class="formula-title">Fourier Transform Pair</div>
                            <div class="math-environment">
                                $$F(\omega) = \int_{-\infty}^{+\infty} f(t) e^{-i\omega t} \, dt$$
                            </div>
                            <div class="math-environment">
                                $$f(t) = \frac{1}{2\pi}\int_{-\infty}^{+\infty} F(\omega) e^{i\omega t} \, d\omega$$
                            </div>
                        </div>
                        <div class="sub-formula">Chuy·ªÉn t·ª´ time domain sang frequency domain</div>
                    </div>
                    
                    <div style="background: rgba(46, 204, 113, 0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>·ª®ng d·ª•ng:</strong><br/>
                        ‚Ä¢ Signal Processing: L·ªçc t√≠n hi·ªáu, n√©n d·ªØ li·ªáu<br/>
                        ‚Ä¢ Image Processing: FFT, JPEG compression<br/>
                        ‚Ä¢ ML: Feature extraction, spectrograms
                    </div>
                </div>
            </div>
            
            <div style="background: rgba(155, 89, 182, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                <h3 style="color: #9b59b6;">üî¨ ƒêi·ªÅu Ki·ªán Dirichlet</h3>
                <p>H√†m f(t) c√≥ Fourier series h·ªôi t·ª• n·∫øu:</p>
                <ul style="grid-column: 1/-1;">
                    <li>f(t) tu·∫ßn ho√†n v·ªõi chu k·ª≥ T</li>
                    <li>f(t) c√≥ h·ªØu h·∫°n s·ªë ƒëi·ªÉm gi√°n ƒëo·∫°n trong m·ªôt chu k·ª≥</li>
                    <li>f(t) c√≥ h·ªØu h·∫°n s·ªë ƒëi·ªÉm c·ª±c tr·ªã trong m·ªôt chu k·ª≥</li>
                    <li>‚à´|f(t)|dt < ‚àû (absolutely integrable)</li>
                </ul>
            </div>
        </div>
        
        <!-- Interactive Visualization -->
        <div class="content-layout">
            <div class="visualization-area">
                <div class="canvas-container">
                    <h3 style="color: #2c3e50; margin: 0 0 15px 0;">üéµ Fourier Series Reconstruction</h3>
                    <canvas id="fourierCanvas" width="500" height="300"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <span style="width: 20px; height: 3px; background: #e74c3c; display: inline-block;"></span>
                            <span>Original Function</span>
                        </div>
                        <div class="legend-item">
                            <span style="width: 20px; height: 3px; background: #3498db; display: inline-block;"></span>
                            <span>Fourier Approximation</span>
                        </div>
                        <div class="legend-item">
                            <span style="width: 20px; height: 2px; background: #2ecc71; display: inline-block;"></span>
                            <span>Individual Harmonics</span>
                        </div>
                    </div>
                </div>
                
                <div class="canvas-container">
                    <h3 style="color: #2c3e50; margin: 0 0 15px 0;">üìä Frequency Spectrum</h3>
                    <canvas id="spectrumCanvas" width="500" height="200"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <span style="width: 15px; height: 15px; background: #9b59b6; display: inline-block;"></span>
                            <span>Amplitude Spectrum |a‚Çô|, |b‚Çô|</span>
                        </div>
                    </div>
                </div>
                
                <div class="coefficient-display" id="coefficients-display">
                    <strong>üìê Fourier Coefficients:</strong><br/>
                    DC Component: a‚ÇÄ = 0.000<br/>
                    Cosine Terms: a‚ÇÅ = 0.000, a‚ÇÇ = 0.000, a‚ÇÉ = 0.000<br/>
                    Sine Terms: b‚ÇÅ = 1.273, b‚ÇÇ = 0.000, b‚ÇÉ = 0.424<br/>
                    RMS Error: 0.125
                </div>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <h3>üéØ Function Selection</h3>
                    <div class="function-selector">
                        <button id="func-square" class="active" onclick="selectFunction('square')">Square Wave</button>
                        <button id="func-sawtooth" onclick="selectFunction('sawtooth')">Sawtooth</button>
                        <button id="func-triangle" onclick="selectFunction('triangle')">Triangle</button>
                        <button id="func-pulse" onclick="selectFunction('pulse')">Pulse Train</button>
                        <button id="func-custom" onclick="selectFunction('custom')">Custom</button>
                    </div>
                </div>
                
                <div class="control-group">
                    <h3>‚öôÔ∏è Series Parameters</h3>
                    <label>Number of Terms (N):</label>
                    <input type="range" id="num-terms" min="1" max="50" value="10" oninput="updateSeries()">
                    <div class="parameter-display" id="terms-value">N = 10 terms</div>
                    
                    <label>Fundamental Frequency:</label>
                    <input type="range" id="frequency" min="0.1" max="3" step="0.1" value="1" oninput="updateSeries()">
                    <div class="parameter-display" id="freq-value">f = 1.0 Hz</div>
                    
                    <label>Amplitude:</label>
                    <input type="range" id="amplitude" min="0.1" max="3" step="0.1" value="1" oninput="updateSeries()">
                    <div class="parameter-display" id="amp-value">A = 1.0</div>
                </div>
                
                <div class="control-group">
                    <h3>üîç Analysis Options</h3>
                    <label><input type="checkbox" id="show-harmonics" checked onchange="updateVisualization()"> Show Individual Harmonics</label><br>
                    <label><input type="checkbox" id="show-original" checked onchange="updateVisualization()"> Show Original Function</label><br>
                    <label><input type="checkbox" id="animate" onchange="toggleAnimation()"> Animate Construction</label><br>
                    <label><input type="checkbox" id="show-gibbs" onchange="updateVisualization()"> Highlight Gibbs Phenomenon</label>
                </div>
                
                <div class="control-group">
                    <h3>üìä Error Analysis</h3>
                    <button onclick="calculateConvergence()">üìà Convergence Analysis</button>
                    <button onclick="showGibbsPhenomenon()">‚ö†Ô∏è Gibbs Phenomenon</button>
                    <button onclick="compareWithIdeal()">üéØ Compare with Ideal</button>
                    <button onclick="exportCoefficients()">üíæ Export Coefficients</button>
                </div>
                
                <div class="control-group">
                    <h3>üéµ Audio Synthesis</h3>
                    <button onclick="playTone()">üîä Play Synthesized Tone</button>
                    <button onclick="playOriginal()">üéµ Play Original Wave</button>
                    <button onclick="playHarmonics()">üéº Play Individual Harmonics</button>
                </div>
            </div>
        </div>
        
        <!-- Mathematical Theory Deep Dive -->
        <div class="mathematical-theory">
            <div class="theory-card">
                <h3 style="color: #3498db;">üìê Orthogonality c·ªßa Trigonometric Functions</h3>
                <p><strong>C∆° s·ªü to√°n h·ªçc:</strong> T·∫°i sao Fourier series ho·∫°t ƒë·ªông?</p>
                
                <div class="formula-box">
                    <div class="formula-label">T√≠nh tr·ª±c giao</div>
                    <div class="theorem-box">
                        <div class="formula-title">Orthogonality Relations</div>
                        <div class="math-environment">
                            $$\int_0^T \sin(m\omega t)\cos(n\omega t) \, dt = 0$$
                        </div>
                        <div class="math-environment">
                            $$\int_0^T \sin(m\omega t)\sin(n\omega t) \, dt = \delta_{mn} \frac{T}{2}$$
                        </div>
                        <div class="math-environment">
                            $$\int_0^T \cos(m\omega t)\cos(n\omega t) \, dt = \delta_{mn} \frac{T}{2}$$
                        </div>
                    </div>
                    <div class="sub-formula">Œ¥<sub>mn</sub> = Kronecker delta (1 n·∫øu m=n, 0 n·∫øu m‚â†n)</div>
                </div>
                
                <p><strong>√ù nghƒ©a:</strong> Sin v√† cos t·∫°o th√†nh orthogonal basis cho function space!</p>
                <ul>
                    <li>M·ªói h√†m = unique combination c·ªßa basis functions</li>
                    <li>Inner product = 0 ‚Üí orthogonal</li>
                    <li>Cho ph√©p "t√°ch" c√°c frequency components</li>
                </ul>
            </div>
            
            <div class="theory-card">
                <h3 style="color: #e74c3c;">‚ö° Parseval's Theorem</h3>
                <p><strong>Energy Conservation:</strong> NƒÉng l∆∞·ª£ng trong time domain = frequency domain</p>
                
                <div class="formula-box">
                    <div class="math-environment">
                        $$\frac{1}{T}\int_0^T |f(t)|^2 \, dt = \frac{|a_0|^2}{4} + \frac{1}{2}\sum_{n=1}^{\infty}\left(|a_n|^2 + |b_n|^2\right)$$
                    </div>
                </div>
                
                <p><strong>·ª®ng d·ª•ng th·ª±c t·∫ø:</strong></p>
                <ul>
                    <li><strong>Signal Processing:</strong> Power spectral density</li>
                    <li><strong>Audio:</strong> Energy distribution across frequencies</li>
                    <li><strong>ML:</strong> Feature energy trong frequency domain</li>
                    <li><strong>Compression:</strong> Concentrate energy in few coefficients</li>
                </ul>
            </div>
            
            <div class="theory-card">
                <h3 style="color: #9b59b6;">üåä Gibbs Phenomenon</h3>
                <p><strong>Overshoot:</strong> T·∫°i sao Fourier series "overshoots" t·∫°i discontinuities?</p>
                
                <div class="formula-box">
                    $$\lim_{N \to \infty} \max |\text{overshoot}| \approx 0.089 \times |\text{jump}|$$
                    ‚âà 9% c·ªßa jump magnitude
                </div>
                
                <p><strong>Gi·∫£i th√≠ch to√°n h·ªçc:</strong></p>
                <ul>
                    <li>Partial sums t·∫°o ra "ringing" near discontinuities</li>
                    <li>Kh√¥ng th·ªÉ tr√°nh ƒë∆∞·ª£c v·ªõi finite terms</li>
                    <li>Fundamental limitation c·ªßa pointwise convergence</li>
                    <li>Gi·∫£i ph√°p: Windowing, apodization functions</li>
                </ul>
            </div>
            
            <div class="theory-card">
                <h3 style="color: #2ecc71;">üîÑ Convolution Theorem</h3>
                <p><strong>Multiplication ‚Üî Convolution:</strong> Quan h·ªá fundamental trong signal processing</p>
                
                <div class="formula-box">
                    f * g ‚Üî F(œâ) ¬∑ G(œâ)<br/>
                    f(t) ¬∑ g(t) ‚Üî (1/2œÄ) F * G
                </div>
                
                <p><strong>Applications:</strong></p>
                <ul>
                    <li><strong>Filtering:</strong> Multiply in frequency = convolve in time</li>
                    <li><strong>Image Processing:</strong> Efficient filtering via FFT</li>
                    <li><strong>ML:</strong> Convolutional layers, feature detection</li>
                    <li><strong>Audio:</strong> Reverb, echo effects</li>
                </ul>
            </div>
        </div>
        
        <!-- Real-world Applications -->
        <div class="applications-grid">
            <div class="application-card">
                <h3>üéµ Audio & Music Technology</h3>
                <ul>
                    <li><strong>Digital Audio:</strong> MP3, AAC compression algorithms</li>
                    <li><strong>Music Analysis:</strong> Chord recognition, key detection</li>
                    <li><strong>Synthesizers:</strong> Additive synthesis, harmonic generation</li>
                    <li><strong>Audio Effects:</strong> EQ, filtering, pitch shifting</li>
                    <li><strong>Noise Reduction:</strong> Spectral subtraction methods</li>
                </ul>
            </div>
            
            <div class="application-card">
                <h3>üì∑ Image & Video Processing</h3>
                <ul>
                    <li><strong>JPEG Compression:</strong> 2D DCT (Discrete Cosine Transform)</li>
                    <li><strong>Image Filtering:</strong> Low-pass, high-pass, band-pass filters</li>
                    <li><strong>Edge Detection:</strong> High-frequency component analysis</li>
                    <li><strong>Medical Imaging:</strong> CT, MRI reconstruction algorithms</li>
                    <li><strong>Computer Vision:</strong> Feature extraction, texture analysis</li>
                </ul>
            </div>
            
            <div class="application-card">
                <h3>ü§ñ Machine Learning & AI</h3>
                <ul>
                    <li><strong>Speech Recognition:</strong> Mel-frequency cepstral coefficients</li>
                    <li><strong>Time Series:</strong> Frequency domain features</li>
                    <li><strong>CNNs:</strong> Convolution = multiplication in frequency</li>
                    <li><strong>Signal Classification:</strong> Spectral features for ML models</li>
                    <li><strong>Anomaly Detection:</strong> Frequency signature analysis</li>
                </ul>
            </div>
            
            <div class="application-card">
                <h3>üì° Communications & Networking</h3>
                <ul>
                    <li><strong>Digital Modulation:</strong> OFDM, QAM schemes</li>
                    <li><strong>Channel Analysis:</strong> Frequency response characterization</li>
                    <li><strong>WiFi/LTE:</strong> Multi-carrier communication systems</li>
                    <li><strong>Radar:</strong> Target detection v√† range estimation</li>
                    <li><strong>5G:</strong> Massive MIMO, beamforming applications</li>
                </ul>
            </div>
            
            <div class="application-card">
                <h3>üß¨ Scientific Computing</h3>
                <ul>
                    <li><strong>Quantum Mechanics:</strong> Wave function analysis</li>
                    <li><strong>Crystallography:</strong> X-ray diffraction patterns</li>
                    <li><strong>Astronomy:</strong> Pulsar signal analysis</li>
                    <li><strong>Climate Science:</strong> Temperature oscillation analysis</li>
                    <li><strong>Seismology:</strong> Earthquake wave decomposition</li>
                </ul>
            </div>
            
            <div class="application-card">
                <h3>‚öïÔ∏è Biomedical Engineering</h3>
                <ul>
                    <li><strong>ECG Analysis:</strong> Heart rhythm abnormality detection</li>
                    <li><strong>EEG Processing:</strong> Brain wave frequency analysis</li>
                    <li><strong>Medical Imaging:</strong> MRI, CT reconstruction</li>
                    <li><strong>Drug Delivery:</strong> Controlled release modeling</li>
                    <li><strong>Prosthetics:</strong> Neural signal decoding</li>
                </ul>
            </div>
        </div>
        
        <!-- Advanced Topics -->
        <div style="background: rgba(231, 76, 60, 0.1); padding: 25px; border-radius: 15px; margin-top: 30px;">
            <h2 style="color: #e74c3c;">üöÄ Advanced Fourier Topics</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 25px;">
                <div>
                    <h3>üìä Discrete Fourier Transform (DFT)</h3>
                    <div class="formula-box">
                        X[k] = Œ£(n=0 to N-1) x[n]e^(-i2œÄkn/N)<br/>
                        x[n] = (1/N)Œ£(k=0 to N-1) X[k]e^(i2œÄkn/N)
                    </div>
                    <p><strong>FFT Algorithm:</strong> O(N log N) thay v√¨ O(N¬≤)</p>
                    <ul>
                        <li>Cooley-Tukey algorithm (1965)</li>
                        <li>Most important algorithm c·ªßa 20th century</li>
                        <li>Makes real-time signal processing possible</li>
                    </ul>
                </div>
                
                <div>
                    <h3>üåä Wavelet Transform</h3>
                    <div class="formula-box">
                        W(a,b) = (1/‚àöa)‚à´f(t)œà((t-b)/a)dt<br/>
                        <small>Time-Frequency Localization</small>
                    </div>
                    <p><strong>Advantages over Fourier:</strong></p>
                    <ul>
                        <li>Better time localization</li>
                        <li>Multi-resolution analysis</li>
                        <li>Adaptive to signal characteristics</li>
                        <li>JPEG2000, denoising applications</li>
                    </ul>
                </div>
                
                <div>
                    <h3>üìà Short-Time Fourier Transform</h3>
                    <div class="formula-box">
                        STFT(œÑ,œâ) = ‚à´f(t)w(t-œÑ)e^(-iœât)dt<br/>
                        <small>Windowed Fourier Analysis</small>
                    </div>
                    <p><strong>Trade-offs:</strong></p>
                    <ul>
                        <li>Time vs Frequency resolution</li>
                        <li>Heisenberg uncertainty principle</li>
                        <li>Window function choice critical</li>
                        <li>Spectrograms cho speech analysis</li>
                    </ul>
                </div>
                
                <div>
                    <h3>üîÑ Hilbert Transform</h3>
                    <div class="formula-box">
                        H[f](t) = (1/œÄ)‚à´f(œÑ)/(t-œÑ)dœÑ<br/>
                        <small>Analytic Signal Construction</small>
                    </div>
                    <p><strong>Applications:</strong></p>
                    <ul>
                        <li>Instantaneous amplitude/phase</li>
                        <li>Single-sideband modulation</li>
                        <li>Complex envelope extraction</li>
                        <li>Causality testing trong economics</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Canvas setup
        const fourierCanvas = document.getElementById('fourierCanvas');
        const fourierCtx = fourierCanvas.getContext('2d');
        const spectrumCanvas = document.getElementById('spectrumCanvas');
        const spectrumCtx = spectrumCanvas.getContext('2d');
        
        // State variables
        let currentFunction = 'square';
        let numTerms = 10;
        let frequency = 1.0;
        let amplitude = 1.0;
        let showHarmonics = true;
        let showOriginal = true;
        let animating = false;
        let animationId;
        
        // Function definitions
        const functions = {
            square: {
                name: 'Square Wave',
                func: (t) => Math.sign(Math.sin(2 * Math.PI * frequency * t)) * amplitude,
                coefficients: (n) => ({
                    a0: 0,
                    an: 0,
                    bn: n % 2 === 1 ? (4 * amplitude) / (n * Math.PI) : 0
                }),
                description: 'Odd harmonics only: bn = 4A/(nœÄ) for odd n'
            },
            sawtooth: {
                name: 'Sawtooth Wave',
                func: (t) => {
                    const period = 1 / frequency;
                    const phase = (t % period) / period;
                    return amplitude * (2 * phase - 1);
                },
                coefficients: (n) => ({
                    a0: 0,
                    an: 0,
                    bn: -2 * amplitude / (n * Math.PI) * Math.pow(-1, n)
                }),
                description: 'All harmonics: bn = -2A/(nœÄ)(-1)^n'
            },
            triangle: {
                name: 'Triangle Wave',
                func: (t) => {
                    const period = 1 / frequency;
                    const phase = (t % period) / period;
                    return amplitude * (phase < 0.5 ? 4 * phase - 1 : 3 - 4 * phase);
                },
                coefficients: (n) => ({
                    a0: 0,
                    an: n % 2 === 1 ? 8 * amplitude / (Math.PI * Math.PI * n * n) * Math.pow(-1, (n-1)/2) : 0,
                    bn: 0
                }),
                description: 'Odd harmonics only: an = 8A/(œÄ¬≤n¬≤)(-1)^((n-1)/2)'
            },
            pulse: {
                name: 'Pulse Train',
                func: (t) => {
                    const period = 1 / frequency;
                    const phase = (t % period) / period;
                    return phase < 0.25 ? amplitude : 0;
                },
                coefficients: (n) => ({
                    a0: amplitude / 4,
                    an: amplitude / (2 * Math.PI * n) * Math.sin(Math.PI * n / 2),
                    bn: amplitude / (2 * Math.PI * n) * (1 - Math.cos(Math.PI * n / 2))
                }),
                description: 'Duty cycle 25%: harmonics decay as 1/n'
            }
        };
        
        function selectFunction(funcName) {
            currentFunction = funcName;
            
            // Update button states
            document.querySelectorAll('.function-selector button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('func-' + funcName).classList.add('active');
            
            updateVisualization();
        }
        
        function updateSeries() {
            numTerms = parseInt(document.getElementById('num-terms').value);
            frequency = parseFloat(document.getElementById('frequency').value);
            amplitude = parseFloat(document.getElementById('amplitude').value);
            
            document.getElementById('terms-value').textContent = `N = ${numTerms} terms`;
            document.getElementById('freq-value').textContent = `f = ${frequency.toFixed(1)} Hz`;
            document.getElementById('amp-value').textContent = `A = ${amplitude.toFixed(1)}`;
            
            updateVisualization();
        }
        
        function updateVisualization() {
            showHarmonics = document.getElementById('show-harmonics').checked;
            showOriginal = document.getElementById('show-original').checked;
            
            drawFourierSeries();
            drawSpectrum();
            updateCoefficientsDisplay();
        }
        
        function drawFourierSeries() {
            const width = fourierCanvas.width;
            const height = fourierCanvas.height;
            
            fourierCtx.clearRect(0, 0, width, height);
            
            // Draw axes
            drawAxes(fourierCtx, width, height);
            
            const func = functions[currentFunction];
            const tMax = 2 / frequency; // Show 2 periods
            const dt = tMax / width;
            
            // Draw original function
            if (showOriginal) {
                fourierCtx.strokeStyle = '#e74c3c';
                fourierCtx.lineWidth = 2;
                fourierCtx.beginPath();
                
                for (let x = 0; x < width; x++) {
                    const t = x * dt;
                    const y = func.func(t);
                    const screenY = height/2 - y * height/4;
                    
                    if (x === 0) {
                        fourierCtx.moveTo(x, screenY);
                    } else {
                        fourierCtx.lineTo(x, screenY);
                    }
                }
                fourierCtx.stroke();
            }
            
            // Draw individual harmonics
            if (showHarmonics) {
                fourierCtx.globalAlpha = 0.3;
                for (let n = 1; n <= Math.min(numTerms, 5); n++) {
                    const coeff = func.coefficients(n);
                    
                    if (Math.abs(coeff.an) > 0.01 || Math.abs(coeff.bn) > 0.01) {
                        fourierCtx.strokeStyle = '#2ecc71';
                        fourierCtx.lineWidth = 1;
                        fourierCtx.beginPath();
                        
                        for (let x = 0; x < width; x++) {
                            const t = x * dt;
                            const y = coeff.an * Math.cos(2 * Math.PI * n * frequency * t) + 
                                     coeff.bn * Math.sin(2 * Math.PI * n * frequency * t);
                            const screenY = height/2 - y * height/4;
                            
                            if (x === 0) {
                                fourierCtx.moveTo(x, screenY);
                            } else {
                                fourierCtx.lineTo(x, screenY);
                            }
                        }
                        fourierCtx.stroke();
                    }
                }
                fourierCtx.globalAlpha = 1;
            }
            
            // Draw Fourier series approximation
            fourierCtx.strokeStyle = '#3498db';
            fourierCtx.lineWidth = 3;
            fourierCtx.beginPath();
            
            for (let x = 0; x < width; x++) {
                const t = x * dt;
                let y = functions[currentFunction].coefficients(0).a0;
                
                for (let n = 1; n <= numTerms; n++) {
                    const coeff = func.coefficients(n);
                    y += coeff.an * Math.cos(2 * Math.PI * n * frequency * t) + 
                         coeff.bn * Math.sin(2 * Math.PI * n * frequency * t);
                }
                
                const screenY = height/2 - y * height/4;
                
                if (x === 0) {
                    fourierCtx.moveTo(x, screenY);
                } else {
                    fourierCtx.lineTo(x, screenY);
                }
            }
            fourierCtx.stroke();
        }
        
        function drawSpectrum() {
            const width = spectrumCanvas.width;
            const height = spectrumCanvas.height;
            
            spectrumCtx.clearRect(0, 0, width, height);
            
            // Draw axes
            drawAxes(spectrumCtx, width, height, 'Frequency Spectrum');
            
            const func = functions[currentFunction];
            const barWidth = width / (numTerms + 1);
            
            // Draw DC component
            const a0 = func.coefficients(0).a0;
            if (Math.abs(a0) > 0.01) {
                const barHeight = Math.abs(a0) * height/4;
                spectrumCtx.fillStyle = '#9b59b6';
                spectrumCtx.fillRect(barWidth/2, height/2 - barHeight, barWidth/2, barHeight);
                
                // Label
                spectrumCtx.fillStyle = '#333';
                spectrumCtx.font = '10px Arial';
                spectrumCtx.fillText('DC', barWidth/2, height - 5);
            }
            
            // Draw harmonics
            for (let n = 1; n <= numTerms; n++) {
                const coeff = func.coefficients(n);
                const magnitude = Math.sqrt(coeff.an * coeff.an + coeff.bn * coeff.bn);
                
                if (magnitude > 0.01) {
                    const barHeight = magnitude * height/4;
                    const x = (n + 0.5) * barWidth;
                    
                    spectrumCtx.fillStyle = '#9b59b6';
                    spectrumCtx.fillRect(x, height/2 - barHeight, barWidth * 0.8, barHeight);
                    
                    // Label
                    spectrumCtx.fillStyle = '#333';
                    spectrumCtx.font = '10px Arial';
                    spectrumCtx.fillText(n.toString(), x + barWidth * 0.2, height - 5);
                }
            }
        }
        
        function drawAxes(ctx, width, height, title = '') {
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            
            // X-axis
            ctx.beginPath();
            ctx.moveTo(0, height/2);
            ctx.lineTo(width, height/2);
            ctx.stroke();
            
            // Y-axis
            ctx.beginPath();
            ctx.moveTo(50, 0);
            ctx.lineTo(50, height);
            ctx.stroke();
            
            // Title
            if (title) {
                ctx.fillStyle = '#333';
                ctx.font = '14px Arial';
                ctx.fillText(title, 10, 20);
            }
        }
        
        function updateCoefficientsDisplay() {
            const func = functions[currentFunction];
            let dcComponent = func.coefficients(0).a0;
            let cosineTerms = [];
            let sineTerms = [];
            let rmsError = 0;
            
            for (let n = 1; n <= Math.min(numTerms, 5); n++) {
                const coeff = func.coefficients(n);
                if (Math.abs(coeff.an) > 0.01) cosineTerms.push(`a${n} = ${coeff.an.toFixed(3)}`);
                if (Math.abs(coeff.bn) > 0.01) sineTerms.push(`b${n} = ${coeff.bn.toFixed(3)}`);
            }
            
            // Calculate RMS error (simplified)
            rmsError = Math.max(0.001, 1 / Math.sqrt(numTerms));
            
            document.getElementById('coefficients-display').innerHTML = `
                <strong>üìê Fourier Coefficients:</strong><br/>
                DC Component: a‚ÇÄ = ${dcComponent.toFixed(3)}<br/>
                Cosine Terms: ${cosineTerms.slice(0, 3).join(', ') || 'None'}<br/>
                Sine Terms: ${sineTerms.slice(0, 3).join(', ') || 'None'}<br/>
                RMS Error: ${rmsError.toFixed(3)}<br/>
                <small>Function: ${func.description}</small>
            `;
        }
        
        function toggleAnimation() {
            animating = document.getElementById('animate').checked;
            
            if (animating) {
                animateConstruction();
            } else {
                cancelAnimationFrame(animationId);
                updateVisualization();
            }
        }
        
        function animateConstruction() {
            let currentTerm = 1;
            
            function step() {
                if (!animating) return;
                
                // Temporarily change numTerms for animation
                const originalTerms = numTerms;
                numTerms = currentTerm;
                
                drawFourierSeries();
                drawSpectrum();
                
                numTerms = originalTerms;
                currentTerm = (currentTerm % numTerms) + 1;
                
                animationId = requestAnimationFrame(() => {
                    setTimeout(step, 200);
                });
            }
            
            step();
        }
        
        // Analysis functions
        function calculateConvergence() {
            alert('üìà Convergence Analysis:\n\nSquare wave: 1/n convergence (slow)\nSawtooth: 1/n convergence\nTriangle: 1/n¬≤ convergence (fast)\n\nGibbs phenomenon: ~9% overshoot at discontinuities remains regardless of number of terms!');
        }
        
        function showGibbsPhenomenon() {
            alert('‚ö†Ô∏è Gibbs Phenomenon:\n\nAt discontinuities, Fourier series exhibits ~9% overshoot that never disappears, regardless of how many terms you add!\n\nThis is a fundamental mathematical limitation, not an approximation error.');
        }
        
        function compareWithIdeal() {
            alert('üéØ Comparison with Ideal Function:\n\nRMS Error decreases as 1/‚àöN for most functions.\nSquare wave: Slow convergence due to discontinuities\nTriangle: Fast convergence (smooth function)\n\nTry different functions and observe convergence rates!');
        }
        
        function exportCoefficients() {
            const func = functions[currentFunction];
            let data = `Fourier Coefficients for ${func.name}\n\n`;
            data += `DC: a‚ÇÄ = ${func.coefficients(0).a0.toFixed(6)}\n\n`;
            
            for (let n = 1; n <= numTerms; n++) {
                const coeff = func.coefficients(n);
                data += `n=${n}: a${n} = ${coeff.an.toFixed(6)}, b${n} = ${coeff.bn.toFixed(6)}\n`;
            }
            
            console.log(data);
            alert('üìä Coefficients exported to console! Check browser developer tools.');
        }
        
        // Audio synthesis functions (simplified placeholders)
        function playTone() {
            alert('üîä Audio synthesis would play the reconstructed waveform using Web Audio API.\n\nIn a full implementation, this would convert the Fourier series back to time domain audio samples.');
        }
        
        function playOriginal() {
            alert('üéµ Would play the original mathematical function as audio.\n\nSquare waves sound "buzzy", sawtooth waves sound "harsh", triangle waves sound "mellow".');
        }
        
        function playHarmonics() {
            alert('üéº Would play individual harmonic components separately.\n\nYou would hear pure sine waves at fundamental frequency, 2nd harmonic, 3rd harmonic, etc.');
        }
        
        // Initialize
        updateVisualization();
        
        // Event listeners
        document.getElementById('num-terms').addEventListener('input', updateSeries);
        document.getElementById('frequency').addEventListener('input', updateSeries);
        document.getElementById('amplitude').addEventListener('input', updateSeries);
        
        // Auto-update display values
        updateSeries();
    </script>
</body>
</html>
